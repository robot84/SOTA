SOTA distance calculator
SO9ARC (C) 2018
--------------------------

get-distanse-beetween-locators.bash - do the same as above, but using curl.

get-callsign-info-page.bash - Gets callsign info (especially QTH Locator) from qrz.com database (Limited to 100 request/24h if you are not a premium member)
Usage: ./get-callsign-info-page.bash <callsign>
Example: ./get-callsign-info-page.bash SO9ARC

get-multiplecallsigns-info-page.bash - Gets callsign info (especially QTH Locator) from qrz.com database. Use get-callsign-info-page.bash script to get multiple callsigns info. Prepare list of callsigns in text file SP-chasers_calls.txt, one by line. You can also use other file with option -f <filename>
No output is generated when working. 

create-pair-callsign-locator-from-full-qrz-com-info-page.bash 
	Prints to stdout pair callsign-locator, one pair in line
	for each callsign in database (obtained via get-callsign-info-page.bash, get-multiplecallsigns-info-page.bash or similar script)
If no locator found on qrz.com for callsign, locator in output is set to ??????


How to use this machine? There are so many scripts!

You have two options. Generate everything from scratch, if this is your first use of the scripts on this computer, or pass over some steps, if you have some work done.

How to obtain a cookie for qrz.com
---------------------------------
-Install Google Chrome web browser
-Create account on www.qrz.com.
-Search in www.google.com for this phrase and go to first result:
'cookies.txt chrome web store'
-Click 'Add to Chrome' button on the Chrome Web Store page
-Login to your account on www.qrz.com
-Click on the Cookies.txt icon in Chrome
-In new opened window search for phase:
"HTTP Cookie File for qrz.com by Genuinous.
To download cookies for this tab _click here_"
and click "click here" hyperlink.
Cookie will download to your computer.
(is named "cookies.txt" and it looks like this inside:

# HTTP Cookie File downloaded with cookies.txt by Genuinous @genuinous
# This file can be used by wget, curl, aria2c and other standard compliant tools.
# Usage Examples:
#   1) wget -x --load-cookies cookies.txt "https://www.qrz.com/"
#   2) curl --cookie cookies.txt "https://www.qrz.com/"
#   3) aria2c --load-cookies cookies.txt "https://www.qrz.com/"
#
.qrz.com	TRUE	/	FALSE	1604327123	_ga	GA1.2.2062712348.1541123234
.qrz.com	TRUE	/	FALSE	1541341523	_gid	GA1.12340633751.1234235110
www.qrz.com	FALSE	/	FALSE	1856874323	homestyle	grid
.qrz.com	TRUE	/	FALSE	1541341513	QRZenabled	1
.qrz.com	TRUE	/	FALSE	1543847120	xf_session	fa6fweqgsfger4353rqeg34tcb57750b

Now transfer cookie file  to this app's resources/ directory.
From Windows you can do it by WinSCP or similar application.

Generating everything from scratch:
------------
1. Generate summit info tables
Go to http://sotadata.org.uk/summits.aspx, select desired Association and Region. Click Submit button.
Create empty text file somewhere. Name it my-favourite-region-info.txt or similar. Exact file name
doesn't matter.
Select and Copy the table of summits from sotadata site, then paste it to this file.
Get attention to select only the table with data, not all text on site!
Get attention to select only rows with summits data. Don't select header section!

Run script:
./get-summits-locators.bash my-favourite-region-info.txt

Argument must be a path to text file, that you created before.

2. Generate chasers info tables
You can do it semi-automaticly when you write out chaser's sign and script search for a QTH locator for that sign and store this information in database file,
or manually, where you must manually obtain locator for a chaser and put it in the file. Below I described these two possibilies.

Semi-automatic way:
a) Run script to download information about chaser's QTH locator:

	./get-callsign-info-page.bash <Chaser_callsign>

b) repeat for each chaser you know ;)
c) When all chasers are added to database, generate a table containing mappings chaser_callsign vs his_qth_locator:

	./create-pair-callsign-locator-from-full-qrz-com-info-page.bash > chasers_locators.dat
d) That is all.


Manual way:
a) find qth locator for a chaser 
b) open resources/chasers_locators.dat in your favourite text editor
c) paste chaser's callsign and his QTH locator, one chaser per line.
	Chaser's callsign should be first, at the beggining of the line,
	and after it, separated by a space charakter, paste QTH locator.
	QTH Locator must have 6 charakters. Not more, not less.
	Example line of manually_paired.txt file:
	SQ9RNT JO90id

d) Save changes and close the file.
f) Repeat all steps for each chaser your are interested in



3. Generate QSO's distances 
Log in to http://sotadata.org.uk/
Navigate to View Results->My Results->My Activator Log
Go to bottom of the page and click buttom 'Download complete log'
Save the file.
Use this file in below command:

cat my-downloaded-activator.log | ./compute-distances-for-activator-log-file.bash  | tee  my-distances.txt


Wait for results :)
It can take some time.

